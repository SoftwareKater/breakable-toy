{"openapi":"3.0.0","info":{"title":"Auth Microservice","description":"Authenticate users via api calls and messages.","version":"1.0","contact":{}},"tags":[{"name":"auth","description":""}],"servers":[],"components":{"schemas":{"Credentials":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy.","example":"John Doe"},"password":{"type":"string","description":"Password of a subject. Used by local strategy.","example":"1234"}}},"TokenResponse":{"type":"object","properties":{"accessToken":{"type":"string","description":"Granted, if subject is authenticated."}}},"CreateAuthSubject":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy.","example":"John Doe"},"password":{"type":"string","description":"Password of a subject. Used by local strategy.","example":"1234"},"alias":{"type":"string","description":"An alias to the username, to display in the frontend.","example":"Johnny"},"email":{"type":"string","description":"Email of the subject. Used by local strategy.","example":"john@doe.com"},"userId":{"type":"string","description":"Foreign id of an entity in the user microservice.","example":"5c91de4e-316c-40a4-8321-9f15b3ceeea5"}}},"PublicAuthSubject":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy.","example":"John Doe"},"alias":{"type":"string","description":"An alias to the username, to display in the frontend.","example":"Johnny"},"email":{"type":"string","description":"Email of the subject. Used by local strategy.","example":"john@doe.com"},"userId":{"type":"string","description":"Foreign id of an entity in the user microservice.","example":"5c91de4e-316c-40a4-8321-9f15b3ceeea5"},"id":{"type":"string","description":"Unique identifier of the subject.","example":"9505f7a6-7a78-4007-8c20-4c086270eb24"},"createdAt":{"type":"number","example":1593719763106}},"required":["id"]}}},"paths":{"/api/auth/token":{"post":{"operationId":"login","summary":"","description":"This is the \"login with username and password\" route. Returns access token if credentials are valid.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Credentials"}}}},"responses":{"200":{"description":"Successfully logged in: credentials are valid, returning an access token.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}},"tags":["auth"]}},"/api/auth":{"post":{"operationId":"create","summary":"","description":"This should not be used. It is recommended to create a user in the user microservice, which causes an auth subject to be created","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAuthSubject"}}}},"responses":{"201":{"description":"Successfully created new auth subject.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicAuthSubject"}}}}},"tags":["auth"]}}}}