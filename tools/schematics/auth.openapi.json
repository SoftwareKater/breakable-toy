{"openapi":"3.0.0","info":{"title":"Auth Microservice","description":"Authenticate users via api calls and messages.","version":"1.0","contact":{}},"tags":[{"name":"auth","description":""}],"servers":[],"components":{"securitySchemes":{"oauth2":{"type":"oauth2","flows":{"implicit":{"scopes":{},"authorizationUrl":"http://localhost:3000/api/auth"}}}},"schemas":{"Credentials":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy."},"password":{"type":"string","description":"Password of a subject. Used by local strategy."}}},"TokenResponse":{"type":"object","properties":{"accessToken":{"type":"string","description":"Granted, if subject is authenticated."}}},"CreateAuthSubject":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy."},"password":{"type":"string","description":"Password of a subject. Used by local strategy."},"name":{"type":"string","description":"An alias to the username, to display in the frontend."},"email":{"type":"string","description":"Email of the subject. Used by local strategy."}}},"AuthSubject":{"type":"object","properties":{"username":{"type":"string","description":"Unique name of a subject. Used by local strategy."},"name":{"type":"string","description":"An alias to the username, to display in the frontend."},"email":{"type":"string","description":"Email of the subject. Used by local strategy."},"id":{"type":"string","description":"Unique identifier of the subject."},"passwordHash":{"type":"string","description":"Hashed password of the subject. Used by local strategy."},"accessToken":{"type":"string","description":"Granted, if subject is authenticated. (I think this is unnecessary)"},"createdAt":{"type":"number"}},"required":["id"]}}},"paths":{"/api/auth/token":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Credentials"}}}},"responses":{"200":{"description":"Returns access token if credentials are valid. This is the login with username + password route.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}},"tags":["auth"]}},"/api/auth":{"post":{"operationId":"AuthController_createAuthSubject","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAuthSubject"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthSubject"}}}}},"tags":["auth"]},"get":{"operationId":"AuthController_test","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"],"security":[{"oauth2":[]}]}},"/api/auth/{jwt}":{"get":{"operationId":"AuthController_checkToken","parameters":[{"name":"jwt","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["auth"]}}}}